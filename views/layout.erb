<!DOCTYPE html>
<html lang="en" ng-app="myapp">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
  <meta name="description" content="<%=@data["head"]["description"]%>">
  <meta name="author" content="<%=@data["head"]["author"]%>">
  <title><%=@data["head"]["title"]%> - radiando.net</title>
  <!-- Bootstrap Core CSS - Uses Bootswatch Flatly Theme: http://bootswatch.com/flatly/ -->
  <link rel="icon" href="data:;base64,iVBORw0KGgo=">
  <link href="css/bootstrap.min.css" rel="stylesheet">
  <link href="css/freelancer.css" rel="stylesheet">


  <!-- Custom Fonts -->
  <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css">
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->


   <link href="bower_components/ng-img-crop/compile/minified/ng-img-crop.css" rel="stylesheet">

   <link href="css/bootstrap-switch.min.css" rel="stylesheet">


  <style>
   [contenteditable=true]:empty:before{
     content: attr(placeholder);
     display: block; /* For Firefox */
   }

   .field {
       margin-bottom: 1em;
   }
   .click-to-edit {
       display: inline-block;
   }
   /*input {
       display: initial !important;
       width: auto !important;
       margin: 0 5px 0 0 !important;
   }*/
   .glyphicon.spinning {
       animation: spin 1s infinite linear;
       -webkit-animation: spin2 1s infinite linear;
   }
   @keyframes spin {
       from {
           transform: scale(1) rotate(0deg);
       }
       to {
           transform: scale(1) rotate(360deg);
       }
   }
   @-webkit-keyframes spin2 {
       from {
           -webkit-transform: rotate(0deg);
       }
       to {
           -webkit-transform: rotate(360deg);
       }
   }
 </style>
</head>

<body id="page-top" class="index" ng-controller="topCtrl">
  <%= yield %>
<!-- Scroll to Top Button (Only visible on small and extra-small screen sizes) -->
  <div class="scroll-top page-scroll hidden-sm hidden-xs hidden-lg hidden-md">
    <a class="btn btn-primary" href="#page-top">
        <i class="fa fa-chevron-up"></i>
    </a>
  </div>
  <!-- Footer -->
  <footer class="text-center" ng-controller="footerCtrl">
    <div class="footer-above">
      <div class="container">
        <div class="row">
          <div class="footer-col col-md-4">
            <h3>Endereço</h3>
            <div contenteditable="{{isLogged}}"
              ng-model="site.moldura.footer.endereco"
              strip-br="true"
              select-non-editable="true"
              ng-blur="saveDiv('site.moldura.footer.endereco')"
              placeholder="Entre com o endereço...">
            </div>
          </div>
          <div class="footer-col col-md-4">
            <h3>Links</h3>

               <form  ng-show="isLogged">
                 <div contenteditable="{{isLogged}}"
                   ng-model="site.moldura.footer.social.facebook"
                   strip-br="true"
                   select-non-editable="true"
                   ng-blur="saveDiv('site.moldura.footer.social.facebook')"
                   placeholder="Link Facebook...">
                 </div>
                 <br>
                 <div contenteditable="{{isLogged}}"
                    ng-model="site.moldura.footer.social.googleplus"
                    strip-br="true"
                    select-non-editable="true"
                    ng-blur="saveDiv('site.moldura.footer.social.googleplus')"
                    placeholder="Link Google Plus...">
                 </div>
                 <br>
                 <div contenteditable="{{isLogged}}"
                    ng-model="site.moldura.footer.social.twitter"
                    strip-br="true"
                    select-non-editable="true"
                    ng-blur="saveDiv('site.moldura.footer.social.twitter')"
                    placeholder="Link Twitter...">
                 </div>
                 <br>
                 <div contenteditable="{{isLogged}}"
                    ng-model="site.moldura.footer.social.linkedin"
                    strip-br="true"
                    select-non-editable="true"
                    ng-blur="saveDiv('site.moldura.footer.social.linkedin')"
                    placeholder="Link Linkedin...">
                 </div>
                 <br>
              </form>

               <ul class="list-inline" ng-show="!isLogged">
                 <li ng-hide="site.moldura.footer.social.facebook || site.moldura.footer.social.googleplus || site.moldura.footer.social.twitter || site.moldura.footer.social.linkedin">
                  {{site.email}}
                 </li>
                 <li ng-if="site.moldura.footer.social.facebook">
                    <a href="https://facebook.com/{{site.moldura.footer.social.facebook}}" class="btn-social btn-outline"><i class="fa fa-fw fa-facebook"></i></a>
                 </li>
                 <li ng-if="site.moldura.footer.social.googleplus">
                    <a href="https://plus.google.com//{{site.moldura.footer.social.googleplus}}" class="btn-social btn-outline"><i class="fa fa-fw fa-google-plus"></i></a>
                 </li>
                 <li ng-if="site.moldura.footer.social.twitter">
                    <a href="https://twitter.com/{{site.moldura.footer.social.twitter}}" class="btn-social btn-outline"><i class="fa fa-fw fa-twitter"></i></a>
                 </li>
                 <li ng-if="site.moldura.footer.social.linkedin">
                    <a href="https://www.linkedin.com/{{site.moldura.footer.social.linkedin}}" class="btn-social btn-outline"><i class="fa fa-fw fa-linkedin"></i></a>
                 </li>
              </ul>

          </div>
          <div class="footer-col col-md-4">
            <h3>Sobre</h3>
            <div contenteditable="{{isLogged}}"
              ng-model="site.moldura.footer.about_resumo"
              strip-br="true"
              select-non-editable="true"
              ng-blur="saveDiv('site.moldura.footer.about_resumo')"
              placeholder="Entre com texto...">
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="footer-below ">
      <div class="container">
        <div class="row">
          <div class="col-lg-12">


              <a ng-show="isLogged" href=/logout>Logout</a>
              <a  ng-show="!isLogged" data-toggle="modal" data-target="#modalLogin">Admin</a>
&nbsp;
              Copyright © magaweb 2016

          </div>
        </div>
      </div>
    </div>
  </footer>


  <script src="js/jquery.js"></script>
  <!-- AngularJs -->

  <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular-animate.js"></script>
  <!-- Sortable.js -->
  <script src="http://rubaxa.github.io/Sortable/Sortable.js"></script>
  <!-- ng-sortable.js -->
  <script src="http://rubaxa.github.io/Sortable/ng-sortable.js"></script>
  <!-- Upload -->


    <script src="js/bootstrap.min.js"></script>
    <script src="js/classie.js"></script>
    <script src="js/cbpAnimatedHeader.js"></script>

    <!-- Plugin JavaScript -->
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>

    <!-- Contact Form JavaScript -->
    <script src="js/jqBootstrapValidation.js"></script>
    <script src="js/contact_me.js"></script>

    <!-- Custom Theme JavaScript -->
    <script src="js/freelancer.js"></script>
    <!-- Trigger the modal with a button -->
    <script src="js/ui-bootstrap-0.14.3.min.js"></script>
    <script src="//angular-ui.github.io/bootstrap/ui-bootstrap-tpls-1.3.3.js"></script>
    <script>
      angular.module('frapontillo.bootstrap-switch', []);
    </script>
    <script src="js/bsSwitch.js"></script>
    <script src="js/angular_script.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular-sanitize.js"></script>

     <!--script src="https://npmcdn.com/imagesloaded@4.1/imagesloaded.pkgd.min.js"></script-->

    <script src="js/ng-file-upload-shim.min.js"></script>
    <script src="js/ng-file-upload.min.js"></script>

    <script src="js/ng-croppie.min.js"></script>

    <script type="application/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular-file-upload/2.3.4/angular-file-upload.js"></script>

    <script src="js/bootstrap-switch.min.js"></script>

    <script type="text/javascript" src="js/ng-device-detector.js"></script>
    <script type="text/javascript" src="js/re-tree.js"></script>

    <script type="text/javascript" src="bower_components/ng-img-crop/compile/unminified/ng-img-crop.js"></script>

    <script>
      //
      // Hack para limpar o código html quando
      // se cola algum texto vindo de algum site
      //
      $(document).on('paste','[contenteditable]',function(e) {
        e.preventDefault();
        var text = (e.originalEvent || e).clipboardData.getData('text/plain') || prompt('Paste something..');
        window.document.execCommand('insertText', false, text);
      });

      $('div[contenteditable]').keydown(function(e) {
        //trap the return key being pressed
        if (e.keyCode === 13  && !e.shiftKey) {
          // insert 2 br tags (if only one br tag is inserted the cursor won't go to the next line)
          //document.execCommand('insertHTML', false, '<br><br>');
          // prevent the default behaviour of return key pressed
          $("div[contentEditable]").blur()
          return false;
        }
      })
      $('p[contenteditable]').keydown(function(e) {
        //trap the return key being pressed
        if (e.keyCode === 13  && !e.shiftKey) {
          // insert 2 br tags (if only one br tag is inserted the cursor won't go to the next line)
          //document.execCommand('insertHTML', false, '<br><br>');
          // prevent the default behaviour of return key pressed
          $("div[contentEditable]").blur()
          return false;
        }
      })

      //hack para navbar na frente da caixa de texto quando se está editando um texto em mobile device
      if ('ontouchstart' in window) {
          $(document).on('focus', 'textarea,input,select,[contenteditable]', function() {
              $('.navbar.navbar-fixed-top').css('position', 'absolute');
          }).on('blur', 'textarea,input,select,[contenteditable]', function() {
              $('.navbar.navbar-fixed-top').css('position', '');
          });
      }

    </script>
  </body>
</html>
