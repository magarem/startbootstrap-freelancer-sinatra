<script type="text/ng-template" id="headerModal.html" >
  <div class="modal-body">
    <style>
      .cropArea {
          background: #E4E4E4;
          overflow: hidden;
          width:500px;
          height:350px;
          max-width: 100%;
      }
      form .progress {
          line-height: 15px;
      }
      .progress {
          display: inline-block;
          width: 100px;
          border: 3px groove #CCC;
      }
      .progress div {
          font-size: smaller;
          background: orange;
          width: 0;
      }

    </style>
    <h3>Imagem principal</h3><br>
    <img class="c"  ng-show="!picFile" ng-src="{{ site.pages.home.img }}"/>



    <div class='row' ng-if='picFile != undefined' class="content">

      <div ngf-drop ng-model="picFile" ngf-pattern="image/*"
             class="cropArea  center-block">
            <img-crop image="picFile  | ngfDataUrl"
            result-image="croppedDataUrl" ng-init="croppedDataUrl=''" >
            </img-crop>
      </div>
      <!-- <div>
            <img ng-src="{{croppedDataUrl}}" />
        </div> -->
        <!--
      <ng-croppie
          src="(picFile | ngfDataUrl)"
          ng-model='croppedDataUrl'
          update='onUpdate'
          boundry="{w: 400, h:400}"
          viewport="{w: 250, h:250}"
          mousezoom="true"
          zoom="true"
          type="circle">
      </ng-croppie>
       -->
      <br>
      <button  class="btn btn-primary" ng-show="isLogged && picFile" ng-click="upload(croppedDataUrl, picFile.name)" >Enviar</button>



   <span class="progress" ng-show="progress >= 0">
     <div style="width:{{progress}}%" ng-bind="progress + '%'"></div>
   </span>
   <span ng-show="result">Upload Successful</span>
   <span class="err" ng-show="errorMsg">{{errorMsg}}</span>
  </div><br>

  <button id=imgSelect ngf-fix-orientation="true" ng-init="imgSelectTriger()" class="btn btn-primary"  ng-show="isLogged" ngf-select ng-model="picFile" accept="image/*">Selecionar imagem</button>

  <button class="btn btn-primary"  ng-click="cancel()" >Fechar</button>

  <script type="text/javascript">
    $(document).on('paste','[contenteditable]',function(e) {
	    e.preventDefault();
	    var text = (e.originalEvent || e).clipboardData.getData('text/plain') || prompt('Cole aqui');
	    window.document.execCommand('insertText', false, text);
	});
</script>
