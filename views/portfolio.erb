<div ng-controller="imgGridCtrl as vm" >
 <section id="portfolio" >
    <div class="container">
       <div class="row">
          <div class="col-lg-12 text-center">
            <h2>
             <div contenteditable="{{isLogged}}"
               ng-model="site.pages.portfolio.label"
               strip-br="true"
               select-non-editable="true"
               ng-blur="saveDiv('site.pages.portfolio.label')">
             </div>                
            </h2>
            <hr class="star-primary">                
          </div>
       </div>
       
       <div class="row">
         <div class="text-center" ng-init="puxa()">
         <!--  <ul>
            <li ng-repeat="cat in imageCategories">
              <a href ng-click="catselect.cat = cat">{{cat}}//</a></li>
          </ul> -->

          <button ng-show="imageCategories.length > 0" class="btn btn-primary" ng-click="filtraZero()">Todas</button>
          <button ng-show="imageCategories.length > 0" class="btn btn-primary" style="margin: 5px;" ng-repeat="cat in imageCategories" ng-click="$parent.catselect = cat"> {{cat}} </button>
        
         </div>
       </div>
         
       <div ng-show="isLogged">
       <button ng-show="isLogged" type="button" class="btn btn-default" ng-click="portfolio_add()">+</button>
       <div style="float: right">
        Arrastar quadro: &nbsp;&nbsp;
       <input
          bs-switch
          ng-model="isSelected"
          type="checkbox"
          switch-active="{{ isActive }}"
          switch-on-text="{{ onText }}"
          switch-off-text="{{ offText }}"
          switch-on-color="{{ onColor }}"
          switch-off-color="{{ offColor }}"
          switch-animate="{{ animate }}"
          switch-size="{{ size }}"
          switch-label="{{ label }}"
          switch-icon="{{ icon }}"
          switch-radio-off="{{ radioOff }}"
          switch-label-width="{{ labelWidth }}"
          switch-handle-width="{{ handleWidth }}"
          switch-wrapper="{{ wrapper }}"
          ng-true-value="true"
          ng-false-value="false"
          switch-inverse="{{ !inverse }}">
       </div>
        </div>
       <div class="clearfix"></div>
       <br />
       <style>
          .crop {
            width: 360px;
            height: 260px;
            overflow: hidden;
          }
          .resize-img {
           max-width: 100%;
           height: 260px;
            overflow: hidden;
          }
          .resize-img2 {
           max-width: 100%;
           max-height: 100%;
           overflow: hidden;
          }
          img.resize{
            width:220px; /* you can use % */
            height: auto;
          }
       </style>
       <style type="text/css">
* { box-sizing: border-box; }

/* force scrollbar */
html { overflow-y: scroll; }
/*
body { font-family: sans-serif; }*/

/* ---- grid ---- */

.grid {
  background: #DDD;
}

/* clear fix */
.grid:after {
  content: '';
  display: block;
  clear: both;
}

/* ---- .grid-item ---- */

/*.grid-sizer,
.grid-item {
  width: 33.333%;
}

.grid-item {
  float: left;
}

.grid-item img {
  display: block;
  max-width: 100%;
  width: 100%;
}
*/

.grid-item img {
  display: block;
  max-width: 100%;
  width: 100%;
}

.cropArea {
            background: #E4E4E4;
            overflow: hidden;
            width: 400px;
            height: 400px;
        }

        img-crop {
            display: block;
            height: 100%;
            overflow: hidden;
            position: relative;
            width: 100%;
        }

        img-crop canvas {
            display: block;
            left: 50%;
            outline: 0 none;
            position: absolute;
            top: 50%;
        }

        .center {
          display: table;
          margin: auto;
        }

 </style>

    <div  class="row"  ng-sortable="barConfig">
      <div class="col-sm-4 portfolio-item " ng-repeat="image in imgs  | filter:(!!catselect || undefined) && {cat: catselect}" >
        <span ng-if="vm.data.device == 'iphone' && isSelected" class="drag-handle tile center" >&#9776;&#9776;</span>
        <a href class="portfolio-link " ng-click="open(image, $index); mostra($index);">
          <div class="caption">
            <div class="caption-content">
                <i class="fa fa-search-plus fa-3x"></i>
            </div>
          </div>
          <img ng-src="{{image.img}}" style="width:360px; height:260px;"
               class="img-responsive img-thumbnail" alt="">
        </a>
      </div>
    </div>
  </section>
</div>


