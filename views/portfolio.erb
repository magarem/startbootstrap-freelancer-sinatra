<style>
  .imgBox {
    width: 360px;
    height: 260px;
    max-width: 100%;
    background-size: cover;
    background-position: center  center;
    background-repeat: no-repeat;
    margin-bottom: 10px;
  }
  div .imgBox:hover {
      opacity: 0.9;
      filter: alpha(opacity=90); /* For IE8 and earlier */
  }
  .modal-dialog {
    width: 100%;
    height: 100%;
    margin: 0;
    padding: 0;
  }

  .modal-content {
    height: auto;
    min-height: 100%;
    border-radius: 0;
  }
</style>
<div ng-controller="imgGridCtrl as vm" >
  <section id="portfolio" >
    <div class="container">
       <div class="row">
          <div class="col-lg-12 text-center">
            <h2>
             <div contenteditable="{{isLogged}}"
               ng-model="site.pages.portfolio.label"
               strip-br="true"
               select-non-editable="true"
               ng-blur="saveDiv('site.pages.portfolio.label')">
             </div>
            </h2>
            <hr class="star-primary">
          </div>
       </div>
       <div class="row">
         <div class="text-center">
           <div ng-switch on="video">
             <div ng-switch-when="video.large">
               <!-- code to render a large video block-->
             </div>
             <div ng-switch-default>
               <!-- code to render the regular video block -->
             </div>
          </div>

          <span ng-show="(vm.data.device != 'iphone' && vm.data.device != 'android')" class="center" >
            <button ng-show="imageCategories.length > 0" class="btn btn-primary" ng-click="filtraZero()">Todas</button>
            <button ng-show="imageCategories.length > 0" class="btn btn-primary" style="margin: 5px;" ng-repeat="cat in imageCategories" ng-click="$parent.catselect = cat"> {{cat}} </button>
          </span>

          <span ng-show="(vm.data.device == 'iphone' || vm.data.device == 'android') && imageCategories > 0" class="center" >
            <select class="form-control" ng-options="cat for cat in imageCategories" ng-model="$parent.catselect">
              <option value="">Todos</option>
            </select><br>
          </span>
        </div>
    </div>
    <div ng-show="isLogged">
      <button ng-show="isLogged" type="button" class="btn btn-second" ng-click="portfolio_add()"><i class="glyphicon glyphicon-plus"></i> Novo</button>
      <div style="float: right">
        <input
          bs-switch  ng-model="isSelected" type="checkbox"
          switch-active="{{ isActive }}" switch-on-text="{{ onText }}"
          switch-off-text="{{ offText }}" switch-on-color="{{ onColor }}"
          switch-off-color="{{ offColor }}" switch-animate="{{ animate }}"
          switch-size="{{ size }}" switch-label="{{ label }}"
          switch-icon="{{ icon }}" switch-radio-off="{{ radioOff }}"
          switch-label-width="{{ labelWidth }}" switch-handle-width="{{ handleWidth }}"
          switch-wrapper="{{ wrapper }}" ng-true-value="true"
          ng-false-value="false" switch-inverse="{{ !inverse }}"
        >
      </div>
    </div>
    <div class="clearfix"></div>
      <br />
      <div class="row"  ng-sortable="barConfig">
         <div id="anchor{{$index}}" class="col-sm-4 portfolio-item " ng-repeat="image in imgs  | filter:(!!catselect || undefined) && {cat: catselect}" >
           <span ng-if="isLogged && (vm.data.device == 'iphone' || vm.data.device == 'android') && isSelected " class="drag-handle tile center" >
             <i class="glyphicon glyphicon-move"></i>
           </span>
           <div class="thumbnail">
             <a href=javascript:void(0); class="portfolio-link" style="text-align: center;" ng-click="preOpen(image, $index); mostra($index);">
               <div class="imgBox" back-img="{{image.img}}"></div>
               <p><strong>{{image.titulo | limitTo:30}}</strong></p>
             </a>
          </div>
        </div>
     </div>
   </section>
</div>
