<script type="text/ng-template" id="myModalContent.html">
    <style>
        .thumb {
            width: 100px;
            height: auto;
            float: none;
            position: relative;
            top: 7px;
        }

        form .progress {
            line-height: 15px;
        }
        }

        .progress {
            padding-top: 20px;
            display: inline-block;
            width: 100px;
            border: 3px groove #CCC;
        }

        .progress div {

            font-size: smaller;
            background: orange;
            width: 0;
        }
    </style>
    <div class="modal-body">
       <h2>
         <div contenteditable="{{isLogged}}"
          ng-model="item.titulo"
          strip-br="true"
          select-non-editable="true"
          ng-blur="saveDiv('item.titulo', i)"
          placeholder="Titulo"
          >
         </div>         
       </h2>

       <form name="myForm" ng-controller="MyFormCtrl">
         <br>
         <img class="img-thumbnail"          
             style="width:100%; max-width:500px;"
             ng-src="{{item.img}}"   
             ng-click="openImgSelect()"/><Br>
          

         <fieldset>
                       
            
            <label class="btn btn-default btn-file">
              Selecionar imagem <input type="file"  style="display: none;" ngf-select ng-model="picFile" name="file"    
                   accept="image/*" ngf-max-size="2MB" required
                   ngf-model-invalid="errorFile">
            </label>

            <i ng-show="myForm.file.$error.maxSize">Arquivo muito pesado 
                {{errorFile.size / 1000000|number:1}}MB: max 2M</i>
            <img ng-show="myForm.file.$valid" ngf-thumbnail="picFile" class="thumb" > 
           <div ng-show="picFile">
              <br> 
            </div>
            
            <input type="submit" ng-show="picFile" 
                    ng-click="uploadPic(picFile)"
                    class="btn btn-green" value="Enviar">
            <div ng-show="picFile.progress >= 0">
              <br> 
            </div>
            <span class="progress" ng-show="picFile.progress >= 0">
      <div style="width:{{picFile.progress}}%; background-color: #2980b9; color: #FFF; padding: 1em .5em;font-weight: 500;" ng-bind="picFile.progress + '%'"></div>
    </span>

            <span ng-show="picFile.result">Upload Successful</span>
            <span class="err" ng-show="errorMsg">{{errorMsg}}</span>
          </fieldset>
          <br>
        </form>



       
      
      <p>
        <div contenteditable="{{isLogged}}"
          style = "font-size: 20px;"
          ng-model="item.txt"
          strip-br="true"
          select-non-editable="true"
          ng-blur="saveDiv('item.txt', i)"
          placeholder="Descrição"
          >
        </div>
      </p>
      <ul class="list-inline item-details">         
          <li ng-show="item.cliente || isLogged">Cliente:
             <strong>              
              <div contenteditable="{{isLogged}}"
                ng-model="item.cliente"
                strip-br="true"
                select-non-editable="true"
                ng-blur="saveDiv('item.cliente', i)"
                placeholder="?"
                ></div>
             </strong>
          </li>
          <li ng-show="item.data || isLogged">Data:
              <strong>
               <div contenteditable="{{isLogged}}"
                ng-model="item.data"
                strip-br="true"
                select-non-editable="true"
                ng-blur="saveDiv('item.data', i)"
                placeholder="?">
               </div>
              </strong>
          </li>
          <li ng-show="item.servico || isLogged">Serviço:
              <strong>
                <div contenteditable="{{isLogged}}"
                  ng-model="item.servico"
                  strip-br="true"
                  select-non-editable="true"
                  ng-blur="saveDiv('item.servico', i)"
                  placeholder="?">                  
                </div>
              </strong>
          </li>
          <li ng-show="item.site || isLogged">Site:
              <strong>               
                <div contenteditable="{{isLogged}}"
                  ng-model="item.site"
                  strip-br="true"
                  select-non-editable="true"
                  ng-blur="saveDiv('item.site', i)"
                  placeholder="?">                  
                </div>  
              </strong>
          </li>
           <li ng-show="item.cat || isLogged">Categorias:
              <strong>
              <div contenteditable="{{isLogged}}"
                  ng-model="item.cat"
                  strip-br="true"
                  select-non-editable="true"
                  ng-blur="saveDiv('item.cat', i)"
                  placeholder="?"
                  >                  
                </div>                  
              </strong>
          </li>
      </ul>


      
      
      <button type="button" ng-show="isLogged" class="btn btn-default" ng-click="excluir(i);">Excluir</button>    
     
      <button type="button"  class="btn btn-default" ng-click="cancel();"><i class="fa fa-times"></i> Fechar</button>
  </div>
 
  <script type="text/javascript">
    $(document).on('paste','[contenteditable]',function(e) {
	    e.preventDefault();
	    var text = (e.originalEvent || e).clipboardData.getData('text/plain') || prompt('Cole...');
	    window.document.execCommand('insertText', false, text);
	});
</script>